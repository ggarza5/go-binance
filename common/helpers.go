package common

import "math"
import "bytes"

// AmountToLotSize converts an amount to a lot sized amount
func AmountToLotSize(lot float64, precision int, amount float64) float64 {
	return math.Trunc(math.Floor(amount/lot)*lot*math.Pow10(precision)) / math.Pow10(precision)
}

// ToJSONList convert v to json list if v is a map
func ToJSONList(v []byte) []byte {
	if len(v) > 0 && v[0] == '{' {
		var b bytes.Buffer
		b.Write([]byte("["))
		b.Write(v)
		b.Write([]byte("]"))
		return b.Bytes()
	}
	return v
}

var PositionPrecisions = map[string]int{
	"AAVE":  2,
	"ADA":   0,
	"ADX":   0,
	"AE":    0,
	"AGI":   0,
	"AION":  0,
	"ALGO":  0,
	"ALPHA": 0,
	"AMB":   0,
	"ANKR":  0,
	"APPC":  0,
	"ARDR":  0,
	"ARK":   0,
	"ARN":   0,
	"ARPA":  0,
	"AST":   0,
	"ATOM":  2,
	"AVA":   2,
	"BAND":  0,
	"BAT":   0,
	"BCD":   0,
	"BCH":   3,
	"BCPT":  0,
	"BEAM":  2,
	"BLZ":   0,
	"BNB":   2,
	"BNT":   0,
	"BQX":   0,
	"BRD":   0,
	"BTG":   2,
	"BTS":   0,
	"BZRX":  0,
	"CDT":   0,
	"CELR":  0,
	"CHZ":   0,
	"CMT":   0,
	"CND":   0,
	"COCOS": 0,
	"COS":   0,
	"CRV":   0,
	"CTXC":  0,
	"CVC":   0,
	"DASH":  3,
	"DATA":  0,
	"DCR":   3,
	"DGD":   3,
	"DLT":   0,
	"DNT":   0,
	"DOCK":  0,
	"DOGE":  0,
	"DREP":  0,
	"DUSK":  0,
	"EDO":   0,
	"EGLD": 3,
	"ELF":   0,
	"ENG":   0,
	"ENJ":   0,
	"EOS":   2,
	"ERD":   0,
	"ETC":   2,
	"ETH":   3,
	"EVX":   0,
	"FET":   0,
	"FTM":   0,
	"FTT":   2,
	"FUEL":  0,
	"FUN":   0,
	"GAS":   2,
	"GNT":   0,
	"GO":    0,
	"GRS":   0,
	"GTO":   0,
	"GVT":   2,
	"GXS":   0,
	"HBAR":  0,
	"HC":    2,
	"HOT":   0,
	"ICX":   0,
	"INS":   0,
	"IOST":  0,
	"IOTA":  0,
	"IOTX":  0,
	"IRIS":  0,
	"KAVA":  0,
	"KEY":   0,
	"KMD":   2,
	"KNC":   0,
	"LINK":  0,
	"LOOM":  0,
	"LRC":   0,
	"LSK":   2,
	"LTC":   2,
	"LTO":   0,
	"LUN":   2,
	"MANA":  0,
	"MATIC": 0,
	"MBL":   0,
	"MCO":   2,
	"MDA":   0,
	"MFT":   0,
	"MITH":  0,
	"MTH":   0,
	"MTL":   0,
	"NANO":  2,
	"NAS":   2,
	"NAV":   0,
	"NCASH": 0,
	"NEBL":  0,
	"NEO":   2,
	"NKN":   0,
	"NULS":  0,
	"NXS":   0,
	"OAX":   0,
	"OGN":   0,
	"OMG":   2,
	"ONE":   0,
	"ONG":   0,
	"ONT":   2,
	"OST":   0,
	"PERL":  0,
	"PHB":   0,
	"PIVX":  0,
	"POA":   0,
	"POE":   0,
	"POLY":  0,
	"POWR":  0,
	"PPT":   0,
	"QKC":   0,
	"QLC":   0,
	"QSP":   0,
	"QTUM":  2,
	"RCN":   0,
	"RDN":   0,
	"REN":   0,
	"REP":   3,
	"REQ":   0,
	"RLC":   0,
	"RVN":   0,
	"SAND":  0,
	"SC":    0,
	"SKY":   0,
	"SNGLS": 0,
	"SNM":   0,
	"SNT":   0,
	"SOL":   0,
	"STEEM": 0,
	"STORJ": 0,
	"STORM": 0,
	"STRAT": 0,
	"STX":   0,
	"SXP":   0,
	"SYS":   0,
	"TCT":   0,
	"TFUEL": 0,
	"THETA": 0,
	"TNB":   0,
	"TNT":   0,
	"TOMO":  0,
	"TROY":  0,
	"TRX":   0,
	"UNI":   0,
	"VET":   0,
	"VIA":   0,
	"VIB":   0,
	"VIBE":  0,
	"VITE":  0,
	"WABI":  0,
	"WAN":   0,
	"WAVES": 2,
	"WPR":   0,
	"WRX":   0,
	"WTC":   2,
	"XEM":   0,
	"XLM":   0,
	"XMR":   3,
	"XRP":   0,
	"XTZ":   2,
	"XVG":   0,
	"XZC":   2,
	"YFI":   4,
	"YFII":  4,
	"YOYO":  0,
	"ZEC":   3,
	"ZEN":   2,
	"ZIL":   0,
	"ZRX":   0,
}

var PricePrecisions = map[string]int{
	"AAVE":  6,
	"ADA":   8,
	"ADX":   8,
	"AE":    8,
	"AGI":   8,
	"AION":  8,
	"ALGO":  8,
	"ALPHA": 8,
	"AMB":   8,
	"ANKR":  8,
	"APPC":  8,
	"ARDR":  8,
	"ARK":   8,
	"ARN":   8,
	"ARPA":  8,
	"AST":   8,
	"ATOM":  7,
	"AVA":   7,
	"BAND":  8,
	"BAT":   8,
	"BCD":   8,
	"BCH":   6,
	"BCPT":  8,
	"BEAM":  7,
	"BLZ":   8,
	"BNB":   7,
	"BNT":   8,
	"BQX":   8,
	"BRD":   8,
	"BTG":   6,
	"BTS":   8,
	"BZRX":  8,
	"CDT":   8,
	"CELR":  8,
	"CHZ":   8,
	"CMT":   8,
	"CND":   8,
	"COCOS": 8,
	"COS":   8,
	"CRV":   8,
	"CTXC":  8,
	"CVC":   8,
	"DASH":  6,
	"DATA":  8,
	"DCR":   6,
	"DGD":   6,
	"DLT":   8,
	"DNT":   8,
	"DOCK":  8,
	"DOGE":  8,
	"DREP":  8,
	"DUSK":  8,
	"EDO":   8,
	"EGLD": 6,	
	"ELF":   8,
	"ENG":   8,
	"ENJ":   8,
	"EOS":   7,
	"ERD":   8,
	"ETC":   7,
	"ETH":   6,
	"EVX":   8,
	"FET":   8,
	"FTM":   8,
	"FTT":   7,
	"FUEL":  8,
	"FUN":   8,
	"GAS":   7,
	"GNT":   8,
	"GO":    8,
	"GRS":   8,
	"GTO":   8,
	"GVT":   7,
	"GXS":   8,
	"HBAR":  8,
	"HC":    7,
	"HOT":   8,
	"ICX":   8,
	"INS":   8,
	"IOST":  8,
	"IOTA":  8,
	"IOTX":  8,
	"IRIS":  8,
	"KAVA":  8,
	"KEY":   8,
	"KMD":   7,
	"KNC":   8,
	"LEND":  8,
	"LINK":  8,
	"LOOM":  8,
	"LRC":   8,
	"LSK":   7,
	"LTC":   6,
	"LTO":   8,
	"LUN":   7,
	"MANA":  8,
	"MATIC": 8,
	"MBL":   8,
	"MCO":   7,
	"MDA":   8,
	"MFT":   8,
	"MITH":  8,
	"MTH":   8,
	"MTL":   8,
	"NANO":  7,
	"NAS":   7,
	"NAV":   8,
	"NCASH": 8,
	"NEBL":  8,
	"NEO":   6,
	"NKN":   8,
	"NULS":  8,
	"NXS":   8,
	"OAX":   8,
	"OGN":   8,
	"OMG":   7,
	"ONE":   8,
	"ONG":   8,
	"ONT":   7,
	"OST":   8,
	"PERL":  8,
	"PHB":   8,
	"PIVX":  8,
	"POA":   8,
	"POE":   8,
	"POLY":  8,
	"POWR":  8,
	"PPT":   8,
	"QKC":   8,
	"QLC":   8,
	"QSP":   8,
	"QTUM":  7,
	"RCN":   8,
	"RDN":   8,
	"REN":   8,
	"REP":   6,
	"REQ":   8,
	"RLC":   8,
	"RVN":   8,
	"SAND":  8,
	"SC":    8,
	"SKY":   8,
	"SNGLS": 8,
	"SNM":   8,
	"SNT":   8,
	"SOL":   8,
	"STEEM": 8,
	"STORJ": 8,
	"STORM": 8,
	"STRAT": 8,
	"STX":   8,
	"SXP":   8,
	"SYS":   8,
	"TCT":   8,
	"TFUEL": 8,
	"THETA": 8,
	"TNB":   8,
	"TNT":   8,
	"TOMO":  8,
	"TROY":  8,
	"TRX":   8,
	"UNI":   8,
	"VET":   8,
	"VIA":   8,
	"VIB":   8,
	"VIBE":  8,
	"VITE":  8,
	"WABI":  8,
	"WAN":   8,
	"WAVES": 7,
	"WPR":   8,
	"WRX":   8,
	"WTC":   7,
	"XEM":   8,
	"XLM":   8,
	"XMR":   6,
	"XRP":   8,
	"XTZ":   7,
	"XVG":   8,
	"XZC":   7,
	"YFI":   5,
	"YFII":  5,
	"YOYO":  8,
	"ZEC":   6,
	"ZEN":   7,
	"ZIL":   8,
	"ZRX":   8,
}
